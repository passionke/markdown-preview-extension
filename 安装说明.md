# Markdown Preview 扩展 - 安装说明

本质是 **VSCode 扩展**，可在 **VSCode** 或 **Cursor** 里安装（二者都支持 .vsix）。

---

## 1. 打包出 .vsix（本仓库根目录执行一次）

```powershell
cd "d:\刀枫\auto\markdown-preview-extension-temp"
npm install
npm run vsix
```

得到：`markdown-preview-ext-0.1.0.vsix`（约 2.5MB，含依赖）。**只认这一条命令**，不要手敲 `vsce package` 或加 `--no-dependencies`，否则安装后必报 `Cannot find module 'markdown-it'`。

---

## 2. 安装方式

### 用 VSCode 装

**图形界面**

1. 打开 **VSCode**
2. `Ctrl+Shift+P` → 输入 **Install from VSIX** → 选 **Extensions: Install from VSIX**
3. 选择本目录下的 **`markdown-preview-ext-0.1.0.vsix`**
4. 按提示 **Reload** 窗口

**命令行**（需先把 `code` 加入 PATH）

- 若终端里 `code` 不可用：在 VSCode 里 `Ctrl+Shift+P` → 输入 **Shell Command: Install 'code' command in PATH**，执行一次。
- Windows 默认路径：`%USERPROFILE%\AppData\Local\Programs\Microsoft VS Code\bin`，可手动加入系统 PATH。
- 然后执行：
  ```powershell
  code --install-extension "D:\刀枫\auto\markdown-preview-extension-temp\markdown-preview-ext-0.1.0.vsix"
  ```

### 用 Cursor 装（同一份 .vsix）

- **拖拽**：把 `markdown-preview-ext-0.1.0.vsix` 直接**拖进 Cursor 左侧扩展面板**（Extensions），即可安装。
- 或：`Ctrl+Shift+P` → 输入 **Install from VSIX** → 选上述 .vsix 文件 → Reload。

**注意**：用命令行 `Cursor.exe --install-extension ...` 只会打开一个新 Cursor 窗口，扩展不会装到当前用的窗口，**请在 Cursor 里用上面两种方式之一安装**。

---

## 3. 验证

- 打开任意 `.md` 文件 → 右键 → **Preview Markdown in Browser**
- 浏览器里：链接可点（新标签）、图片可点（灯箱或跳转）

---

*作者：kejiqing*
